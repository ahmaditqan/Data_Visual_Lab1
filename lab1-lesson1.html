<html>
    <head>
        <!-- Load D3.js -->
        <script src="https://d3js.org/d3.v4.js"></script>
    </head>
    <body>
        <div id="my_dataviz"></div>
        <script>
            var margin={top:30, right:30, bottom:70, left:60},
                width = 460 - margin.left - margin.right,
                height = 400 - margin.top - margin.bottom;

            var svg = d3.select('#my_dataviz')
                .append("svg")
                    .attr('width',width + margin.left + margin.right)
                    .attr('height', height + margin.top + margin.bottom)
                .append('g')
                    .attr('transform',
                            'translate('+margin.left+','+margin.top+')');

            d3.csv('https://raw.githubusercontent.com/ahmaditqan/Data_Visual_Lab1/main/electronics.csv', function(data){
                //Add x axis
                
                var x = d3.scaleBand()
                    .range([0,width])
                    .domain(data.map(function(d){ return d.Product;}))
                    .padding(0.2);

                svg.append('g')
                    .attr('transform','translate(0,'+height+')')
                    .call(d3.axisBottom(x))
                    .selectAll('text')
                    .attr('transform','translate(-10,0)rotate(-45)')
                    .style('text-anchor','end');
                
                //Add y axis
                var y = d3.scaleLinear()
                    .domain([0,30])
                    .range([height,0]);
                    
                svg.append('g')
                    .call(d3.axisLeft(y));

                //Add y axis label
                svg.append("text")
                    .style("text-achor","end")
                    .attr("transform","rotate(-90)")
                    .attr("y", -margin.left + 20)
                    .attr("x", -margin.top - 170)
                    .text("Number of Unit");
                
                //Add x axis label
                svg.append("text")
                    .style("text-achor","middle")
                    .attr("transform","translate("+(width/2.5) + "," +
                        (height + margin.top + 40) +")")
                    .text("Product");

                //main title label 
                svg.append("text")
                    .attr("x", (width/4))
                    .attr("y", 0 - (margin.top/2))
                    .text("The number of appliances and mobile sales");


                //Add bars and close the scripts
                
                svg.selectAll("mybar")
                    .data(data)
                    .enter()
                    .append("rect")
                        .attr("x", function (d){ return x(d.Product);})
                        .attr("y", function (d){ return y(d.Unit);})
                        .attr("width",x.bandwidth())
                        .attr("height", function(d){ return height - y(d.Unit);})
                        .attr("fill","#ABE395 ")
                        
            })
        </script>
        <h1>Summary</h1>
        <ul>
            <li> The graph illustrates that mobile was the highest product sold amongst the other products</li>
            <li> Meanwhile, AC was the least product been sold</li>
            <li> Mobile sales have 28 units were recorded.</li>
            <li> On the other side, AC has 15 units sold.</li>
            <li> All product sales were over ten units.</li>
        </ul>
    </body>
</html>